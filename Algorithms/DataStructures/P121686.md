# 운영체제

[link](https://school.programmers.co.kr/learn/courses/15008/lessons/121686)

## Solution

```python
import heapq

def solution(program):
    answer = [0] * 11
    program.sort(key=lambda x: (x[1], x[0]))

    current = 0
    pq = []
    prg_idx = 0
    while prg_idx != len(program):
        while prg_idx < len(program) and current >= program[prg_idx][1]:
            heapq.heappush(pq, program[prg_idx])
            prg_idx += 1

        if pq:
            a, b, c = heapq.heappop(pq)
            # print(a, b, c)
            answer[a] += current - b
            current += c
        elif prg_idx < len(program) and current < program[prg_idx][1]:
            current = program[prg_idx][1]

    while pq:
        a, b, c = heapq.heappop(pq)
        answer[a] += current - b
        current += c

    answer[0] = current
    return answer
```

## What I learned

1. I ran into `List Index out of range` error:

```python
while current >= program[prg_idx][1]:
  heapq.heappush(pq, program[prg_idx])
  prg_idx += 1
```

To fix this:

> while prg_idx < len(program) and current >= program[prg_idx][1]:

2. I learned how to set the priority using `heapq`, based on multiple factors:

```python
import heapq

pq = []
heapq.heappush(pq, (1, "bello"))
heapq.heappush(pq, (1, "aello"))
heapq.heappush(pq, (1, "cello"))

while pq:
  print(heapq.heappop(pq))

'''
(1, 'aello')
(1, 'bello')
(1, 'cello')
'''
```
